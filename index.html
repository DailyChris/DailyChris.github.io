<!doctype html>
<html lang="en">
	<head>
		<meta charset="utf-8"/>
		<meta name="description" content="Personal website for Billie Collinson"/>
		<meta name="robots" content="index,nofollow"/>
		<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/>
		<title>Billie Collinson</title>
		<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.2.1/css/bootstrap.min.css">
		<script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
		<style>
			body {background-image: url('./bg.jpg');background-size: 100%;}
			h1 {text-align:center;}
			.form-group {margin-bottom:0rem;}
			.col {margin-bottom:1rem;min-width:250px;}
			#success {background-color:#0073e6;color:white;margin-top:1rem;}
			#error {background-color:#f57600;margin-top:1rem;}
			.form-result {padding: 10px;}
		</style>
	</head>
	<body>
	<main>
		<div class="content text-center text-white">
			<div class="container">
				<h1>Billie Collinson</h1>
				<div>
					<p>Please complete the form below to contact me:</p>
				</div>
				<form id="contact" method="POST">
					<div class="form-group">
						<div class="form-row">
							<div class="col">
								<input type="text" name="name" class="form-control" placeholder="Name" aria-label="Name" required>
							</div>
							<div class="col">
								<input type="tel" name="telephone" class="form-control" placeholder="Telephone" aria-label="Telephone" required>
							</div>
							<div class="col">
								<input type="email" name="email" class="form-control" placeholder="Email Address" aria-label="Email Address" required>
							</div>
						</div>
					</div>
					<div class="form-group">
						<textarea class="form-control" name="message" rows="10" placeholder="Your Message" aria-label="Your Message" required style="margin-bottom: 1rem"></textarea>
					</div>
					<button type="submit" class="btn btn-lg btn-dark btn-block">Get in touch</button>
				</form>
				<div id="success" class="btn-lg" style="display:none;">I've received your message and will look at it soon, thanks!</div>
				<div id="error" class="btn-lg" style="display:none;">There was an error sending your message, please try again</div>
			</div>
			
		</div>
		</main>
		<script>
			$("#contact").submit(function(e) {
				e.preventDefault();
				$('#success, #error').hide();
				$.ajax({
					method: 'POST',
					url: 'https://formsubmit.co/ajax/40a6936c9ecdee4d9e80fa417f15ccd8',
					dataType: 'json',
					accepts: 'application/json',
					data: $(this).serialize(),
					success: (data) => {
						console.log(data.success)
						if (data.success !== "false") {
							$('#success').show();
						} else {
							$('#error').show();
						}
					},
					error: (err) => $('#error').show()
				});
			});
		</script>
	</body>
</html>
